(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40f3cffb"],{"1c8e":function(t,e,a){"use strict";var n=a("4cfb"),r=a.n(n);r.a},3012:function(t,e,a){"use strict";var n=a("fdd3"),r=a.n(n);r.a},"39ba":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("nav-bar",{staticClass:"category-nav"},[a("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),a("div",{staticClass:"container"},[a("div",{staticClass:"menu"},[a("category-menu",{attrs:{menuData:t.categories},on:{currentMenu:t.currentMenu}})],1),a("div",{staticClass:"view"},[a("category-view",{attrs:{"data-views":t.showSubcategory}})],1)])],1)},r=[],c=a("a7ac"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"menu"}},t._l(t.menuData,(function(e,n){return a("div",{staticClass:"menu-item",class:{active:t.currentIndex===n},on:{click:function(e){return t.menuItemClick(n)}}},[a("p",[t._v(t._s(e.title))])])})),0)},i=[],o={name:"CategoryMenu",components:{},props:{menuData:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{menuItemClick:function(t){this.currentIndex=t,this.$emit("currentMenu",t)}}},u=o,l=(a("b502"),a("2877")),f=Object(l["a"])(u,s,i,!1,null,"d9187f32",null),d=f.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Scroll",{ref:"scroll",staticClass:"scroll"},[a("div",{staticClass:"category-view"},[a("div",{staticClass:"view-item"},t._l(this.dataViews.subcategory,(function(e){return a("div",{staticClass:"item"},[a("a",{attrs:{href:e.link}},[a("img",{staticClass:"item-img",attrs:{src:e.image,alt:""},on:{load:t.imgLoad}}),a("span",{staticClass:"item-text"},[t._v(t._s(e.title))])])])})),0)])])},m=[],v=a("a668"),y={name:"CategoryView",components:{Scroll:v["a"]},props:{dataViews:{type:Object,default:function(){return{}}}},data:function(){return{count:0}},methods:{imgLoad:function(){this.count++,this.count>=this.dataViews.subcategory.length&&(this.$refs.scroll.refresh(),this.count=0)}}},h=y,b=(a("3012"),Object(l["a"])(h,g,m,!1,null,"2480d562",null)),p=b.exports,C=a("1bab");function w(){return Object(C["a"])({url:"/category"})}function _(t){return Object(C["a"])({url:"/subcategory",params:{maitKey:t}})}var x={name:"Category",components:{NavBar:c["a"],CategoryMenu:d,CategoryView:p},data:function(){return{categories:[],currentIndex:-1,categoryData:{}}},created:function(){this._getCategory()},computed:{showSubcategory:function(){return this.categoryData[this.currentIndex]}},methods:{_getCategory:function(){var t=this;w().then((function(e){t.categories=e.data.data.category.list;for(var a=0;a<t.categories.length;a++)t.categoryData[a]={subcategory:{}};t._getSubcategory(0)}))},_getSubcategory:function(t){var e=this,a=this.categories[t].maitKey;_(a).then((function(a){e.categoryData[t].subcategory=a.data.data.list,e.currentIndex=t}))},currentMenu:function(t){this._getSubcategory(t)}}},I=x,k=(a("1c8e"),Object(l["a"])(I,n,r,!1,null,"094e3926",null));e["default"]=k.exports},"4cfb":function(t,e,a){},af82:function(t,e,a){},b502:function(t,e,a){"use strict";var n=a("af82"),r=a.n(n);r.a},fdd3:function(t,e,a){}}]);
//# sourceMappingURL=chunk-40f3cffb.40a75253.js.map